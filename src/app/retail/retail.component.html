<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="topnav">
        <a routerLink="/home">Home</a>
        <a routerLink="/categories">Categories</a>
        <a routerLink="/products">Products</a>
        <a routerLink="/aboutus">Aboutus</a>
        <a class="login"  routerLink="/login">Login</a>
    </div>
    <div *ngIf="!isLoggedIn" class="login-container">
        <h2>Login</h2>
        <form (submit)="login()">
            <label for="username">Username:</label>
            <input type="text" id="username" [(ngModel)]="username" name="username" required><br>
            
            <label for="password">Password:</label>
            <input type="password" id="password" [(ngModel)]="password" name="password" required><br>
            
            <button type="submit">Login</button>
        </form>
    </div>
    
    <div *ngIf="isLoggedIn" class="store-container">
        <h1>Store Management</h1>
        <h3 class="table">Available Products</h3>
        <table>
            <tr>
                <th>Product</th>
                <th>Price</th>
                <th>Discount</th>
            </tr>
            <tr>
                <td>5001</td>
                <td>20</td>
                <td>No Discount</td>
            </tr>
            <tr>
                <td>5002</td>
                <td>25</td>
                <td>No Discount</td>
            </tr> 
            <tr>
                <td>5003</td>
                <td>30</td>
                <td>No Discount</td>
            </tr>
            <tr>
                <td>5004</td>
                <td>40</td>
                <td>20% Discount</td>
            </tr>
            <tr>
                <td>5005</td>
                <td>50</td>  
                <td>20% Discount</td>
            </tr>
        </table>
    
        <form>
           <label for="itemid">Enter Item Id:</label>
           <input type="number" id="Itemid" name="itemId" [(ngModel)]="itemid" required><br>
           <label for="quantity">Enter quantity:</label>
           <input type="number" name="quantity" id="quantity" [(ngModel)]="Quantity" required><br>
           <button (click)="additem()">Add Item</button><br>
        </form>
    
        <div *ngIf="Add">
            <h2>My Cart</h2>
            <table>
                <tr>
                    <th>Item ID</th>
                    <th>Quantity</th>
                </tr>
                <tr *ngFor="let cartitem of cart">
                    <td>{{cartitem.itemid}}</td>
                    <td>{{cartitem.Quantity}}</td>
                </tr>
            </table>
        </div>
        
        <div *ngIf="!Add">
            <h2>Final Billing</h2>
            <p *ngFor="let items of cart">Item:{{items.itemid}}-Quantity:{{items.Quantity}}</p>
            <h3>Total Bill:{{totalbill}}</h3>
            <button   routerLink="/payment"        (click)="pay()">Click to Pay</button>
            <button (click)="resetbill()">Start new Billing</button>
        </div>
        <label for="">Do you want to finish billing</label>
        <button (click)="finishbilling()">Yes</button>

        <hr>
        <button (click)="logout()">Logout</button>
        <button (click)="clearCart()">Clear Cart</button>
        <button (click)="printReceipt()">Print Receipt</button>
    </div>
    
</body>
</html>
